<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Dienstplan Übersicht mit Fahrer-Update</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; }
  button { margin: 5px 10px 10px 0; padding: 8px 16px; cursor: pointer; }
  table { border-collapse: collapse; width: 100%; margin-top: 15px; }
  th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
  th { background-color: #f4f4f4; }
</style>
</head>
<body>

<h1>Dienstplan Übersicht</h1>

<div>
  <button onclick="showDienste('schule')">Mo-Fr Schule</button>
  <button onclick="showDienste('ferien')">Mo-Fr Ferien</button>
  <button onclick="showDienste('samstag')">Samstag</button>
  <button onclick="showDienste('sonntag')">Sonntag</button>
  <button onclick="updateFahrer()">Busfahrer aktualisieren</button>
</div>

<table id="dienstTabelle">
  <thead>
    <tr>
      <th>Dienst</th>
      <th>Fahrzeug</th>
      <th>Busfahrer</th>
    </tr>
  </thead>
  <tbody>
    <!-- Daten kommen hier rein -->
  </tbody>
</table>

<script>
// Fahrernamen-Liste
const fahrernamen = ["Müller", "Schmidt", "Schneider", "Fischer", "Weber", "Meyer", "Wagner", "Koch", "Neumann", "Schulz"];

// Dienste-Daten mit Fahrzeugtyp, soweit bekannt
const dienste = {
  schule: [
    { dienst: "4101", fahrzeug: "10m" },
    { dienst: "4102", fahrzeug: "–" },
    { dienst: "4201", fahrzeug: "18m" },
    { dienst: "4202", fahrzeug: "15m" },
    { dienst: "4203", fahrzeug: "–" },
    { dienst: "4204", fahrzeug: "–" },
    { dienst: "4401", fahrzeug: "18m" },
    { dienst: "4402", fahrzeug: "18m" },
    { dienst: "4403", fahrzeug: "–" },
    { dienst: "4404", fahrzeug: "–" },
    { dienst: "4405", fahrzeug: "–" },
    { dienst: "4406", fahrzeug: "–" },
    { dienst: "4407", fahrzeug: "–" },
    { dienst: "4408", fahrzeug: "–" },
    { dienst: "4409", fahrzeug: "–" }
  ],
  ferien: [
    { dienst: "4501", fahrzeug: "–" },
    { dienst: "4502", fahrzeug: "–" },
    { dienst: "4503", fahrzeug: "–" },
    { dienst: "4504", fahrzeug: "–" },
    { dienst: "4505", fahrzeug: "–" },
    { dienst: "4506", fahrzeug: "–" },
    { dienst: "4507", fahrzeug: "–" },
    { dienst: "4508", fahrzeug: "–" },
    { dienst: "4509", fahrzeug: "–" },
    { dienst: "4510", fahrzeug: "–" },
    { dienst: "4601", fahrzeug: "–" },
    { dienst: "4602", fahrzeug: "10m" },
    { dienst: "4701", fahrzeug: "–" },
    { dienst: "4702", fahrzeug: "–" }
  ],
  samstag: [
    { dienst: "4561", fahrzeug: "–" },
    { dienst: "4562", fahrzeug: "–" },
    { dienst: "4563", fahrzeug: "–" },
    { dienst: "4564", fahrzeug: "–" },
    { dienst: "4565", fahrzeug: "–" },
    { dienst: "4566", fahrzeug: "–" },
    { dienst: "4661", fahrzeug: "–" },
    { dienst: "4662", fahrzeug: "10m" },
    { dienst: "4761", fahrzeug: "–" }
  ],
  sonntag: [
    { dienst: "4571", fahrzeug: "–" },
    { dienst: "4572", fahrzeug: "–" },
    { dienst: "4573", fahrzeug: "–" },
    { dienst: "4574", fahrzeug: "–" },
    { dienst: "4671", fahrzeug: "–" },
    { dienst: "4771", fahrzeug: "–" }
  ]
};

// Aktuell angezeigter Diensttyp
let aktuellerTyp = "schule";

// Funktion, um den aktuellen Datensatz mit zufälligen Fahrernamen zu versehen
function assignFahrer(diensteListe) {
  return diensteListe.map(d => ({
    dienst: d.dienst,
    fahrzeug: d.fahrzeug,
    fahrer: fahrernamen[Math.floor(Math.random() * fahrernamen.length)]
  }));
}

// Tabelle rendern
function renderTable(data) {
  const tbody = document.querySelector("#dienstTabelle tbody");
  tbody.innerHTML = "";
  data.forEach(e => {
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${e.dienst}</td>
      <td>${e.fahrzeug}</td>
      <td>${e.fahrer}</td>
    `;
    tbody.appendChild(tr);
  });
}

// Dienste anzeigen mit Fahrernamen
function showDienste(typ) {
  aktuellerTyp = typ;
  const mitFahrern = assignFahrer(dienste[typ]);
  renderTable(mitFahrern);
}

// Fahrer aktualisieren für aktuellen Typ
function updateFahrer() {
  showDienste(aktuellerTyp);
}

// Initial anzeigen
showDienste(aktuellerTyp);

</script>

</body>
</html>
